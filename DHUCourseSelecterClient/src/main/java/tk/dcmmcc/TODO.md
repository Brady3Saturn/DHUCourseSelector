## DHUCourseSelecter

---

## TODO List

### **设置类**

封装所有设置信息(static) 

其中选课时间间隔默认10s

默认某个课程中的任意一个班级选课线程选课成功就会把这个课程中的其他班级选课线程给关闭(这个还是在发布的时候不要搞出来。。)

默认每个选课班级线程最多选课次数为无限次(值为-1)

## **client添加几个data**


**选课任务队列类**，封装所有课程类

**课程类**，里面封装这个课程的所有班级任务，里面的start方法开始所有班级的选课线程，cancel方法停止所有的这个课程的班级的选课进程，内部类listenner用于监听所有这个课程的班级的选课进程，如果设置类中设置了一个课程只允许成功选择一个班级(默认状态)，就把这个课程中的其他班级选课线程给结束

**班级类** 里面封装班级和班级选课线程

## **client 界面**

**选课概览界面** 

选课线程列表的右上角点进去就是选课任务队列管理界面(开始选课的时候就没法点了)

概览界面每个课程可以展开出选课班级线程，课程那一列的停止选课按钮可以强行停止课程下面的所有选课班级线程。总共有正在选课，选课失败(强行停止或者超过设定的选课次数就会失败)，选课成功三种状态。

**选课任务队列管理界面**

左上角有选课任务队列管理界面这几个字，同理选课概览界面 智能导入界面 手动添加界面都有

**智能导入课程界面**
先一步一步选择大类课程中的课程选择具体课程，有学分提示(英语类 体育类 文素类这些都有最多选多少学分的要求，在页面上面好像有，还要注意体育类是要区别15级以及以前都只能选2分的课程，16级及以下都只能选1分的课程，文素课有艺术类和非艺术类的课程学分要求这个就在上面提示一下就好了)，然后再按照通识必修 通识选修之类的顺序从智能导入的结果中自己选择有需要的(因为选修类的课好多并不是每一门都要选)，这样就成功导入了所有课程，具体班级需要在选课任务队列管理界面点击列表然后添加选课班级。

**手动添加课程界面**
根据用户输入的课程名字从或者课程代码(二选一，输入的时候输入框账号会popup出来公共查询中匹配的多个结果供用户选择)公共搜索里面爬取出课程

导入课程以后，用户点击选课任务队列管理界面的课程列表，下面就会有删除课程，添加选课班级，查看课程日历，查看课程大纲这几个按钮。
点击添加课程班级按钮之后，当前界面变成课程班级选择界面，整体为一个日历，然后右边为课程下面的所有班级的列表，分两类，上面那一类为没有跟已选班级冲突的班级，下面那一类为跟已选班级冲突的班级。
鼠标点击或者鼠标放在成绩条目上面，左边的课程日历就会出现该课程的时间安排(绿色块的为没有冲突，红色的为有冲突，灰色的代表其他已选课程，已选课程为教务处查看到的所有班级和所有任务队列中的班级，所有有冲突的话，会在界面的上面列出来所有冲突的课程(分两类 一类是教务处中已选或者已经录取的课程班级，课程班级后面会括号注明是已经录取的还是已经选择但未录取的，点击班级弹出一个窗口，里面可以删除已经选择的课程和已经录取课程)，另外一类是选课任务队列中的班级，这些条目的名称为班级课程名称＋老师＋课程成绩代码)。
这些班级冲突的判断方法为
先从教务处查询所有已选和已录取的课程班级，然后开始对比是否有时间冲突的班级
然后选课队列中遍历出来的所有班级，对比是否有时间冲突的班级
上诉两类班级要提前用linkedlist维护好，不然每次都要重新遍历爬取肯定很慢

点击课程日历的每一格都会弹出这一节次的已选班级或者当前课程的课程班级
## **选课概览界面**

开始按钮为现在开始和延迟到指定时间开始两种
课程列表中点击课程或者班级 下面都会有相应的查看各类信息的按钮
列表上面是选课概览面板，包括已经尝试次数，选课的任务总数和已经成功的数量，当前时间。
概览面板上面是账户信息。非登陆的时候就是当前还未登陆，请先点击右上角按钮登陆教务处下面。登陆之后就是欢迎你xx级别的xxx你当前选课学期为xxx，点击右上角按钮可以退出当前账号。
